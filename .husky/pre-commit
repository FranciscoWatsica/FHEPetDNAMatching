#!/usr/bin/env sh

echo "Running pre-commit checks..."

# Run linters
echo "Running ESLint..."
npm run lint:js || exit 1

echo "Running Solhint..."
npm run lint:sol || exit 1

echo "Running Prettier..."
npm run format:check || exit 1

echo "Checking for restricted terms..."
if grep -r "dapp[0-9]" --exclude-dir={node_modules,coverage,artifacts,cache} . 2>/dev/null; then
  echo "Error: Found dapp+number pattern"
  exit 1
fi

echo "Pre-commit checks passed!"
